<!-- Main Content -->
<div class="flex items-center justify-center w-full min-h-screen">
  <div class="flex flex-row w-full">
    <div class="p-4 bg-white text-black rounded-3xl w-120 mb-12 slide-in-left ml-40">
      <div class="overflow-x-auto">
        <table class="table w-full">
          <thead>
            <tr class="text-primary text-center">
              <th>Material Types</th>
              <th>Accession No. Template</th>
              <th>Edit</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody class="text-center">
            <tr *ngFor="let category of categories">
              <td>{{ category.mat_type }}</td>
              <td>{{ category.accession_no }}</td>
              <td>
                <button
                  class="bg-secondary text-black border-none shadow-none btn-sm rounded-full font-medium mr-1"
                  (click)="editCategory(category.cat_id)">
                  Edit
                </button>
              </td>
              <td>
                <button
                  class="bg-primary text-white border-none shadow-none btn-sm rounded-full font-medium"
                  (click)="showConfirmModal(category.cat_id, category.mat_type)">
                  Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="flex flex-col w-full">
      <div class="bg-white p-8 pb-0 rounded-3xl shadow-lg ml-20 w-1/2 h-3/5 slide-in-right">
        <span class="text-center text-2xl font-normal text-black mb-3">
          Total library materials count:
        </span>
        <span class="text-primary text-2xl font-medium">{{ totalCount }}</span>
        <form>
          <div class="flex flex-col items-center justify-between mt-5">
            <img src="../../../assets/hello.png" alt="success" class="w-96 h-72" />
            <div class="flex flex-row gap-2 w-full mt-20">
              <button
                type="button"
                class="w-1/2 bg-primary text-white px-4 py-3 rounded-full font-medium hover:bg-[#ffb700] hover:text-black transition duration-300"
                (click)="goBack()">
                Back
              </button>
              <button
                type="button"
                class="w-1/2 bg-secondary text-black px-4 py-3 rounded-full font-medium hover:bg-[#801e1d] hover:text-white transition duration-300"
                routerLink="/add-type">
                Add material type
              </button>
            </div>
          </div>
        </form>
      </div>
      <div class="flex items-center justify-center ml-10 mt-5 w-3/5 h-1/3 slide-in-below">
        <img src="../../../assets/books.png" alt="books" class="w-96 h-72">
      </div>
    </div>
  </div>
</div>

<!-- Confirmation Modal -->
<div *ngIf="showModal" 
     class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50">
    <div class="bg-white p-8 rounded-3xl shadow-lg w-4/5 max-w-md">
        <h2 class="text-center text-xl font-medium text-primary mb-3">
            Do you really want to delete this material? It cannot be undone!
            <div class="text-yellow-500 mt-4 mb-7">
                <span class="text-primary">Title:</span> {{ selectedMaterialTitle }}
            </div>
        </h2>
        <div class="flex flex-col items-center justify-between h-full">
            <img src="../../../assets/return.jpg" alt="success" class="w-4/5 h-auto mb-4" />
            <div class="flex flex-row gap-4 w-full">
                <button
                    (click)="closeConfirmModal()"
                    class="flex-1
                        bg-primary 
                        text-white 
                        px-6 
                        py-3 
                        rounded-full 
                        font-medium 
                        hover:bg-[#ffb700] 
                        hover:text-black 
                        transition 
                        duration-300">
                    Back
                </button>
                <button
                    (click)="deleteCategory()"
                    class="flex-1
                        bg-secondary 
                        text-black 
                        px-6 
                        py-3 
                        rounded-full 
                        font-medium 
                        hover:bg-[#801e1d] 
                        hover:text-white 
                        transition 
                        duration-300">
                    Confirm Delete
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Snackbar -->
<div *ngIf="snackBarVisible" 
     class="fixed bottom-0 left-1/2 transform -translate-x-1/2 
            mb-4 bg-yellow-500 text-white p-4 
            rounded-lg shadow-lg flex items-center">
    <span>{{ snackBarMessage }}</span>
    <button (click)="closeSnackBar()" class="ml-4 text-white">
        <span class="text-xl font-bold">Ã—</span>
    </button>
</div>

