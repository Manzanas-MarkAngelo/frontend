<app-time />

<div class="flex items-start justify-center pt-[3.5rem] bg-primary">
  <div
    class="bg-white 
           p-6 
           rounded-xl 
           shadow-lg 
           w-1/2 
           h-full 
           slide-in-right 
           mb-10">
    <div class="flex 
                items-end 
                justify-between">
      <h1 class="text-2xl 
                 text-primary 
                 font-semibold 
                 ml-2 
                 mb-3">
        Fill up fields to register*
      </h1>
      <div class="relative">
        <select
          id="role"
          name="role"
          [(ngModel)]="selectedRole"
          class="appearance-none 
                 w-full 
                 bg-secondary 
                 text-gray-700 
                 font-medium 
                 py-3 
                 px-4 
                 pr-8 
                 rounded-xl 
                 leading-tight 
                 focus:outline-none 
                 focus:bg-[#ffb700] 
                 cursor-pointer text-lg">
          <option value="" disabled selected>Role</option>
          <option value="student">Student</option>
          <option value="faculty">Faculty</option>
          <option value="visitor">Visitor</option>
          <option value="pupt-employee">PUPT-Employee</option>
        </select>
        <div
          class="pointer-events-none 
                 absolute 
                 inset-y-0 
                 top-0.5 
                 right-2 
                 flex 
                 items-center 
                 text-gray-700">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-5">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
          </svg>
        </div>
      </div>
    </div>

    <form (submit)="onSubmit()">
      <div class="mb-4 
                  mt-4 
                  flex 
                  items-center 
                  space-x-4">
        @if (selectedRole === 'student') {
        <div class="relative flex-grow">
          <input
            id="studentNumber"
            name="studentNumber"
            type="text"
            [(ngModel)]="studentNumber"
            placeholder="Enter your PUP ID number here"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            [ngClass]="{'border-red-500': 
            (!studentNumber && hasFormErrors) || 
            !isStudentNumberValid || isUserExists}"
            (input)="onFieldInput('studentNumber')"/>
          @if ((!studentNumber && hasFormErrors) || !isStudentNumberValid ||
          isUserExists) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              {{ !studentNumber && hasFormErrors ? 
              'Student number cannot be empty.' 
                     : !isStudentNumberValid ? studentNumberError 
                     : isUserExists ? userExistsError : '' }}
            </span>
          </span>
          }
        </div>
        } @else if (selectedRole === 'faculty') {
        <div class="relative flex-grow">
          <input
            id="employeeNumber"
            name="employeeNumber"
            type="text"
            [(ngModel)]="empNumber"
            placeholder="Enter your Faculty code here"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            [ngClass]="{'border-red-500': 
              (!empNumber && hasFormErrors) || 
              !isEmpNumberValid || isUserExists}"
            (input)="onFieldInput('empNumber')"/>
          @if ((!empNumber && hasFormErrors) || !isEmpNumberValid ||
          isUserExists) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer 
                   group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              {{ !empNumber && hasFormErrors ? 'Faculty code cannot be empty.' 
                     : !isEmpNumberValid ? empNumberError 
                     : isUserExists ? userExistsError : '' }}
            </span>
          </span>
          }
        </div>
        } @else if (selectedRole === 'pupt-employee') {
          <div class="relative flex-grow">
            <input
              id="empNum"
              name="empNum"
              type="text"
              [(ngModel)]="empNum"
              placeholder="Enter your Employee number here"
              class="mt-1 
                     block 
                     w-full 
                     rounded-xl 
                     border 
                     border-gray-300 
                     px-6 
                     py-2 
                     focus:ring-opacity-50 
                     text-lg"
              [ngClass]="{'border-red-500': 
                (!empNum && hasFormErrors) || 
                !isEmpNumValid || isUserExists}"
              (input)="onFieldInput('empNum')"/>
            @if ((!empNum && hasFormErrors) || !isEmpNumValid || isUserExists) {
              <span
                class="absolute 
                      right-2 
                      top-1/2 
                      transform 
                      -translate-y-1/2 
                      text-red-500 
                      cursor-pointer 
                      group">
                <img
                  src="../../../assets/Exclamation_flat_icon.svg.png"
                  alt="Exclamation Mark"
                  class="h-4 
                        w-4 
                        mt-1"/>
                <span
                  class="absolute 
                        right-6 
                        top-1/2 
                        transform 
                        -translate-y-1/2 
                        mr-1 
                        w-max 
                        bg-red-500 
                        text-white 
                        text-xs 
                        rounded 
                        py-1 
                        px-2 
                        shadow-lg 
                        z-10 
                        whitespace-nowrap 
                        group-hover:block 
                        hidden">
                  {{ !empNum && hasFormErrors ? 'Employee number cannot be empty.' 
                        : !isEmpNumValid ? empNumError 
                        : isUserExists ? userExistsError : '' }}
                </span>
              </span>
            }
          </div>
        } @else {
        <div class="relative flex-grow">
          <input
            id="school"
            name="school"
            type="text"
            [(ngModel)]="school"
            placeholder="School"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-6 
                   py-2 
                   focus:ring-opacity-50 text-lg"
            [ngClass]="{'border-red-500': !school && hasFormErrors}"
            (input)="onFieldInput('school')"/>
          @if (!school && hasFormErrors) {
            <span
              class="absolute 
                     right-2 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     text-red-500 
                     cursor-pointer 
                     group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              School cannot be empty.
            </span>
          </span>
          }
        </div>
        }
        <div class="relative mr-44">
          <select
            id="sex"
            name="sex"
            [(ngModel)]="sex"
            class="block 
                   appearance-none 
                   w-full 
                   bg-white 
                   text-gray-700 
                   border 
                   border-gray-300 
                   font-medium 
                   py-3 
                   px-6 
                   pr-8 
                   rounded-xl 
                   leading-tight 
                   focus:outline-none 
                   focus:bg-white 
                   cursor-pointer 
                   text-lg 
                   mt-1"
            [ngClass]="{'border-red-500': !sex && hasFormErrors}"
            (input)="onFieldInput('sex')">
            <option value="" disabled selected>Gender</option>
            <option>Male</option>
            <option>Female</option>
            <option>Prefer not to say</option>
          </select>
          @if (!sex && hasFormErrors) {
            <span
              class="absolute 
                     right-2 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     text-red-500 
                     cursor-pointer 
                     group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              Gender must be selected.
            </span>
          </span>
          }
          <div
            class="pointer-events-none 
                   absolute 
                   inset-y-0 
                   top-1.5 
                   right-2 
                   flex 
                   items-center 
                   text-gray-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-5">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="mb-4 
                  mt-1 
                  flex 
                  items-center 
                  space-x-2">
        <div class="relative flex-grow">
          <input
            id="fname"
            name="fname"
            type="text"
            [(ngModel)]="firstName"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-3 
                   pl-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            placeholder="First name"
            [ngClass]="{'border-red-500': !firstName && hasFormErrors}"
            (input)="onFieldInput('firstName')"/>
          @if (!firstName && hasFormErrors) {
            <span
              class="absolute 
                     right-2 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     text-red-500 
                     cursor-pointer 
                     group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              First name cannot be empty.
            </span>
          </span>
          }
        </div>
        <div class="relative flex-grow">
          <input
            id="lname"
            name="lname"
            type="text"
            [(ngModel)]="lastName"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-3 
                   pl-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            placeholder="Last name"
            [ngClass]="{'border-red-500': !lastName && hasFormErrors}"
            (input)="onFieldInput('lastName')"/>
          @if (!lastName && hasFormErrors) {
            <span
              class="absolute 
                     right-2 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     text-red-500 
                     cursor-pointer 
                     group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap
                     group-hover:block 
                     hidden">
              Last name cannot be empty.
            </span>
          </span>
          }
        </div>
        <div class="relative flex-grow">
          <input
            id="contact"
            name="contact"
            type="text"
            [(ngModel)]="contact"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            placeholder="Contact number"
            [ngClass]="{'border-red-500': 
            (!contact && hasFormErrors) || !isContactValid || isContactExists}"
            (input)="onFieldInput('contact')"/>
          @if ((!contact && hasFormErrors) || !isContactValid 
          || isContactExists) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer 
                   group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>

            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block hidden">
              {{ !contact && hasFormErrors ? 'Contact number cannot be empty.' 
                     : !isContactValid ? contactError 
                     : isContactExists ? contactExistsError : '' }}
            </span>
          </span>
          }
        </div>

        <div class="relative mr-44">
          @if (selectedRole === 'student') {
          <select
            id="course"
            name="course"
            [(ngModel)]="courseId"
            class="block 
                   appearance-none 
                   w-auto 
                   bg-white 
                   border 
                   border-gray-300 
                   text-gray-700 
                   font-medium 
                   py-3 
                   px-6 
                   pr-8 
                   rounded-xl 
                   leading-tight 
                   focus:outline-none 
                   focus:bg-white 
                   cursor-pointer 
                   text-lg 
                   mt-1"
            [ngClass]="{'border-red-500': !courseId && hasFormErrors}"
            (input)="onFieldInput('courseId')">
            <option value="" disabled selected>Course</option>
            @for (course of courses; track $index) {
              <option [value]="course.id">
                {{ course.course_abbreviation }}
              </option>
            }
          </select>
          @if (!courseId && hasFormErrors) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer 
                   group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>

            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              Course must be selected.
            </span>
          </span>
          }
          <div
            class="pointer-events-none 
                   absolute 
                   inset-y-0 
                   top-1.5 
                   right-2 
                   flex 
                   items-center 
                   text-gray-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-5">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
            </svg>
          </div>
          } @else if (selectedRole === 'faculty') {
          <select
            id="dept"
            name="dept"
            [(ngModel)]="department"
            class="block 
                   appearance-none 
                   w-auto 
                   bg-white 
                   border 
                   border-gray-300 
                   text-gray-700 
                   font-medium 
                   py-3 
                   px-6 
                   pr-8 
                   rounded-xl 
                   leading-tight 
                   focus:outline-none 
                   cursor-pointer 
                   text-lg 
                   mt-1"
            [ngClass]="{'border-red-500': !department && hasFormErrors}"
            (input)="onFieldInput('department')">
            <option value="" disabled selected>Department</option>
            @for (dept of departments; track $index) {
              <option [value]="dept.id">
                {{ dept.dept_abbreviation }}
              </option>
            }
          </select>
          @if (!department && hasFormErrors) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer 
                   group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>

            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              Department must be selected.
            </span>
          </span>
          }
          <div
            class="pointer-events-none 
                   absolute 
                   inset-y-0 
                   top-1.5 
                   right-2 
                   flex 
                   items-center 
                   text-gray-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-5">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m19.5 8.25-7.5 7.5-7.5-7.5"
              />
            </svg>
          </div>
          }
        </div>
      </div>

      <div class="mb-4 flex items-center space-x-4">
        @if (selectedRole !== 'visitor') {
        <div class="relative flex-grow">
          <input
            id="email"
            name="email"
            type="text"
            [(ngModel)]="email"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            placeholder="Email"
            [ngClass]="{'border-red-500': 
              (!email && hasFormErrors) || !isEmailValid }"
            (input)="onFieldInput('email')"/>
          @if ((!email && hasFormErrors) || !isEmailValid ) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer 
                   group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              {{ !email && hasFormErrors ? 'Email cannot be empty.' 
                     : !isEmailValid ? emailError : '' }}
            </span>
          </span>
          }
        </div>
        } @else if (selectedRole === 'visitor') {
        <div class="relative flex-grow">
          <input
            id="identifier"
            name="identifier"
            type="text"
            [(ngModel)]="identifier"
            placeholder="Enter your identifier here"
            class="mt-1 
                   block 
                   w-full 
                   rounded-xl 
                   border 
                   border-gray-300 
                   px-6 
                   py-2 
                   focus:ring-opacity-50 
                   text-lg"
            [ngClass]="{'border-red-500': 
              (!identifier && hasFormErrors) || isUserExists}"
            (input)="onFieldInput('identifier')"/>
          @if ((!identifier && hasFormErrors) || isUserExists) {
          <span
            class="absolute 
                   right-2 
                   top-1/2 
                   transform 
                   -translate-y-1/2 
                   text-red-500 
                   cursor-pointer 
                   group">
            <img
              src="../../../assets/Exclamation_flat_icon.svg.png"
              alt="Exclamation Mark"
              class="h-4 
                     w-4 
                     mt-1"/>
            <span
              class="absolute 
                     right-6 
                     top-1/2 
                     transform 
                     -translate-y-1/2 
                     mr-1 
                     w-max 
                     bg-red-500 
                     text-white 
                     text-xs 
                     rounded 
                     py-1 
                     px-2 
                     shadow-lg 
                     z-10 
                     whitespace-nowrap 
                     group-hover:block 
                     hidden">
              {{ !identifier && hasFormErrors ? 'Identifier cannot be empty.' 
                     : isUserExists ? userExistsError : '' }}
            </span>
          </span>
          }
        </div>
        }
        <button
          type="submit"
          class="w-40 
                 bg-primary 
                 text-white 
                 px-4 
                 py-3 
                 rounded-xl 
                 font-medium 
                 hover:bg-[#ffb700] 
                 hover:text-black 
                 transition 
                 duration-300 
                 mt-0.5">
          Register
        </button>
      </div>

      @if (selectedRole === 'visitor') {
      <div>
        <span class="text-red-500 font-medium">Please read carefully*</span>
        <p class="text-primary">
          Take note of your identifier. It could be your favorite color, food,
          pet name or anything. You'll need it to log in and out of the Library
          Information System. Thank you!
        </p>
        <div class="divider my-0"></div>
        <p>
          By clicking "Register," you confirm that you have read and agree to
          our
          <span class="underline cursor-pointer text-blue-500"
                onclick="terms.showModal()">
            Terms and Privacy Conditions</span
          >, including the collection and use of your personal data for library
          services. If you do not agree, please refrain from registering or
          using our system.
        </p>
      </div>
      } @else {
      <div>
        <p>
          By clicking "Register," you confirm that you have read and agree to
          our
          <span
            class="underline cursor-pointer text-blue-500"
            onclick="terms.showModal()"
          >
            Terms and Privacy Conditions</span
          >, including the collection and use of your personal data for library
          services. If you do not agree, please refrain from registering or
          using our system.
        </p>
      </div>
      } @if (hasFormErrors) {
      <div class="text-red-500 text-center mt-2">
        Please fill out all the required fields.
      </div>
      }
    </form>
  </div>
</div>

<dialog id="my_modal_1" class="modal">
  <div class="bg-white p-8 rounded-3xl shadow-lg w-1/2 max-w-md">
    <h2 class="text-center text-2xl font-medium text-primary mb-3">
      Are you sure the details are correct?
    </h2>
    <p class="text-red-500 text-sm text-center my-1">
      Note: Kindly double-check your information to ensure there are no errors.
    </p>
    <div class="flex flex-col items-center justify-between h-full">
      <img 
        src="../../../assets/return.jpg" 
        alt="success" 
        class="w-4/5 h-auto mb-4" 
      />
      <div class="flex flex-col space-y-2">
        @if (selectedRole === 'student') {
          <div>
            <span class="text-primary font-semibold">Role: </span>
            {{ selectedRole }}
          </div>
          <div>
            <span class="text-primary font-semibold">Student number: </span>
            {{ studentNumber }}
          </div>
          <div>
            <span class="text-primary font-semibold">First name: </span>
            {{ firstName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Last name: </span>
            {{ lastName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Gender: </span> {{ sex }}
          </div>
          <div>
            <span class="text-primary font-semibold">Course: </span>
            {{ getCourseName(courseId) }}
          </div>
          <div>
            <span class="text-primary font-semibold">Contact number: </span>
            {{ contact }}
          </div>
          <div>
            <span class="text-primary font-semibold">Email: </span>{{ email }}
          </div>
        } @else if (selectedRole === 'faculty') {
          <div>
            <span class="text-primary font-semibold">Role: </span>
            {{ selectedRole }}
          </div>
          <div>
            <span class="text-primary font-semibold">Faculty code: </span>
            {{ empNumber }}
          </div>
          <div>
            <span class="text-primary font-semibold">First name: </span>
            {{ firstName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Last name: </span>
            {{ lastName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Gender: </span> {{ sex }}
          </div>
          <div>
            <span class="text-primary font-semibold">Department: </span>
            {{ getDepartmentName(department) }}
          </div>
          <div>
            <span class="text-primary font-semibold">Contact number: </span>
            {{ contact }}
          </div>
          <div>
            <span class="text-primary font-semibold">Email: </span>{{ email }}
          </div>
        } @else if (selectedRole === 'pupt-employee') {
          <div>
            <span class="text-primary font-semibold">Role: </span>
            {{ selectedRole }}
          </div>
          <div>
            <span class="text-primary font-semibold">Employee Number: </span>
            {{ empNum }}
          </div>
          <div>
            <span class="text-primary font-semibold">First name: </span>
            {{ firstName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Last name: </span>
            {{ lastName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Gender: </span> {{ sex }}
          </div>
          <div>
            <span class="text-primary font-semibold">Contact number: </span>
            {{ contact }}
          </div>
          <div>
            <span class="text-primary font-semibold">Email: </span>{{ email }}
          </div>
        } @else {
          <div>
            <span class="text-primary font-semibold">Role: </span>
            {{ selectedRole }}
          </div>
          <div>
            <span class="text-primary font-semibold">School: </span> {{ school }}
          </div>
          <div>
            <span class="text-primary font-semibold">First name: </span>
            {{ firstName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Last name: </span>
            {{ lastName }}
          </div>
          <div>
            <span class="text-primary font-semibold">Gender: </span> {{ sex }}
          </div>
          <div>
            <span class="text-primary font-semibold">Contact number: </span>
            {{ contact }}
          </div>
          <div>
            <span class="text-primary font-semibold">Identifier: </span>
            {{ identifier }}
          </div>
        }
      </div>
    </div>
    <div class="modal-action justify-center items-center">
      <button
        class="btn 
               w-40 
               bg-primary 
               text-white 
               hover:bg-[#ffb700] 
               hover:text-black"
        (click)="closeRequestModal()">
        Close
      </button>

      <button
        type="button"
        class="btn 
               w-40 
               bg-secondary 
               text-black 
               hover:bg-[#801e1d] 
               hover:text-white"
        (click)="submitForm()">
        Submit
      </button>
    </div>

  </div>
</dialog>

<dialog id="terms" class="modal">
  <div class="modal-box">
    <h3 class="text-lg font-bold">Terms and Privacy Conditions</h3>
    <div class="py-4 space-y-4">
      <p><b>PUP-Taguig Library Information System</b></p>
      <p><b>Effective Date:</b> October 2024</p>

      <p>
        By registering and using the PUP-Taguig Library Information System
        ("System"), you agree to comply with the following terms and conditions,
        as well as our privacy policy regarding the collection, use, and
        protection of your personal data.
      </p>
      <div class="divider my-0"></div>

      <h4 class="font-bold">1. Terms of Use</h4>
      <p>
        <b>1.1 Eligibility:</b> The System is available to students, faculty,
        and staff of the Polytechnic University of the Philippines, Taguig
        Campus. By registering, you affirm that you are a current member of the
        PUP-Taguig community.
      </p>
      <p>
        <b>1.2 Account Responsibility:</b> You are responsible for maintaining
        the confidentiality of your account. Any activities performed under your
        account will be your responsibility.
      </p>
      <p>
        <b>1.3 Use of the System:</b> The System is designed for accessing
        library resources, borrowing books, and managing academic research. Any
        misuse, including but not limited to unauthorized access, tampering, or
        misuse of data, may result in termination of access.
      </p>
      <p>
        <b>1.4 Prohibited Activities:</b> You agree not to engage in any
        unlawful, disruptive, or harmful activities while using the System.
      </p>

      <div class="divider my-0"></div>
      <h4 class="font-bold">2. Privacy Policy</h4>
      <p>
        <b>2.1 Data Collection:</b> Upon registering, we collect personal
        information such as your full name, student or faculty ID, contact
        details, and other relevant information necessary for the operation of
        the library services.
      </p>
      <p>
        <b>2.2 Data Use:</b> Your personal data is collected to provide,
        maintain, and improve library services, including but not limited to
        managing book loans, reservations, and research materials.
      </p>
      <p>
        <b>2.3 Third-Party Sharing:</b> We do not sell, rent, or share your
        personal data with third parties, except when required by law or in
        cases where third-party service providers are essential for the System’s
        functionality.
      </p>
      <p>
        <b>2.4 Data Retention:</b> Your data will be retained only for as long
        as it is necessary for the purposes outlined in this policy or as
        required by law.
      </p>

      <div class="divider my-0"></div>
      <h4 class="font-bold">3. User Responsibilities</h4>
      <p>
        <b>3.1 Accurate Information:</b> You agree to provide accurate and
        up-to-date information during the registration process.
      </p>
      <p>
        <b>3.2 Respect for Library Materials:</b> Users must respect library
        materials, and any lost or damaged items must be reported immediately.
        You may be responsible for any damage or loss to borrowed materials.
      </p>

      <div class="divider my-0"></div>
      <h4 class="font-bold">4. Changes to Terms</h4>
      <p>
        We reserve the right to modify or update these terms and conditions at
        any time.
      </p>

      <div class="divider my-0"></div>
      <h4 class="font-bold">5. Contact Information</h4>
      <p>
        If you have any questions or concerns regarding these terms and privacy
        conditions, please contact us at:
      </p>
      <p><b>PUP-Taguig Library</b></p>
      <p class="italic">libraryinformationsystemtaguig&#64;gmail.com</p>
    </div>

    <div class="modal-action">
      <form method="dialog">
        <button
          class="btn 
                 bg-secondary 
                 text-black 
                 hover:bg-[#801e1d] 
                 hover:text-white">
          Close
        </button>
      </form>
    </div>
  </div>
</dialog>

<app-snackbar></app-snackbar>